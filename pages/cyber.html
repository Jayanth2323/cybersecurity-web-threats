# Function to convert DataFrame rows to colored HTML table rows
def styled_table(df):
    table_html = "<table><thead><tr>"
    for col in df.columns:
        table_html += f"<th>{col}</th>"
    table_html += "</tr></thead><tbody>"

    for _, row in df.iterrows():
        anomaly_class = "normal"
        if str(row["anomaly"]).lower() == "suspicious":
            anomaly_class = "suspicious"
        table_html += f'<tr class="{anomaly_class}">'
        for val in row:
            table_html += f"<td>{val}</td>"
        table_html += "</tr>"
    table_html += "</tbody></table>"
    return table_html
